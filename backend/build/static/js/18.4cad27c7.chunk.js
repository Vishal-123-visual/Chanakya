"use strict";(self.webpackChunkdemo1=self.webpackChunkdemo1||[]).push([[18],{6018:function(e,t,s){s.d(t,{Z:function(){return N}});var n=s(4165),a=s(1413),c=s(5861),r=s(885),l=s(2791),o=s(304),d=(s(2054),s(2327),s(1243)),i=s(3504),u=s(2426),m=s.n(u),b=s(184),j=function(e){var t=e.subject,s=e.key,n=e.setEditSubjectId,a=e.setEditSubject,c=e.handleDeleteSubject,r=e.index;return(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{children:(0,b.jsx)("div",{className:"form-check form-check-sm form-check-custom form-check-solid"})}),(0,b.jsx)("td",{children:r+1}),(0,b.jsx)("td",{children:t.subjectName}),(0,b.jsx)("td",{children:t.subjectCode}),(0,b.jsx)("td",{children:t.fullMarks}),(0,b.jsx)("td",{children:t.passMarks}),(0,b.jsx)("td",{children:t.addedBy}),(0,b.jsx)("td",{children:m()(t.createdAt).format("DD/MM/YYYY")}),(0,b.jsx)("td",{children:(0,b.jsxs)("div",{className:"d-flex justify-content-end flex-shrink-0",children:[(0,b.jsx)("button",{type:"button",onClick:function(){return function(e,t){n(e),a(t)}(null===t||void 0===t?void 0:t._id,t)},className:"btn btn-icon btn-bg-light btn-active-color-primary btn-sm me-1",children:(0,b.jsx)(o.D9,{iconName:"pencil",className:"fs-3"})}),(0,b.jsx)("button",{type:"button",onClick:function(){return c(t._id)},className:"btn btn-icon btn-bg-light btn-active-color-primary btn-sm",children:(0,b.jsx)(o.D9,{iconName:"trash",className:"fs-3"})})]})})]},s)},v=function(e){var t=e.newSubject,s=e.setNewSubject,n=e.setAddSubjectFormToggle;return(0,b.jsx)(b.Fragment,{children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{children:(0,b.jsx)("div",{className:"form-check form-check-sm form-check-custom form-check-solid"})}),(0,b.jsx)("td",{}),(0,b.jsx)("td",{children:(0,b.jsx)("input",{type:"text",value:t.subjectName,onChange:function(e){return s((0,a.Z)((0,a.Z)({},t),{},{subjectName:e.target.value}))},placeholder:"Enter subject name...",className:"form-control w-75",required:"required"})}),(0,b.jsx)("td",{children:(0,b.jsx)("input",{type:"text",value:t.subjectCode,onChange:function(e){return s((0,a.Z)((0,a.Z)({},t),{},{subjectCode:e.target.value}))},placeholder:"Enter subject code...",className:"form-control w-75",required:"required"})}),(0,b.jsx)("td",{children:(0,b.jsx)("input",{type:"number",min:1,max:5e3,value:t.fullMarks,onChange:function(e){return s((0,a.Z)((0,a.Z)({},t),{},{fullMarks:e.target.value}))},placeholder:"Enter full Marks...",className:"form-control w-75"})}),(0,b.jsx)("td",{children:(0,b.jsx)("input",{className:"form-control w-75",type:"number",min:1,max:5e3,value:t.passMarks,onChange:function(e){return s((0,a.Z)((0,a.Z)({},t),{},{passMarks:e.target.value}))},placeholder:"Enter pass Marks..."})}),(0,b.jsx)("td",{}),(0,b.jsx)("td",{}),(0,b.jsx)("td",{children:(0,b.jsxs)("div",{className:"d-flex justify-content-end flex-shrink-0",children:[(0,b.jsx)("button",{type:"submit",className:"btn btn-success btn btn-success btn-active-color-primary btn-sm me-1 px-5",children:"Add"}),(0,b.jsx)("button",{type:"button",onClick:function(){return n(!1)},className:"btn btn-danger btn btn-success btn-active-color-primary btn-sm me-1 px-5",children:"Cancel"})]})})]})})},h=function(e){var t=e.editSubject,s=e.setEditSubject,n=e.setEditSubjectId;return(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{children:(0,b.jsx)("div",{className:"form-check form-check-sm form-check-custom form-check-solid"})}),(0,b.jsx)("td",{}),(0,b.jsx)("td",{children:(0,b.jsx)("input",{type:"text",value:null===t||void 0===t?void 0:t.subjectName,onChange:function(e){return s((0,a.Z)((0,a.Z)({},t),{},{subjectName:e.target.value}))},placeholder:"Enter subject name...",className:"form-control w-75 "})}),(0,b.jsx)("td",{children:(0,b.jsx)("input",{type:"text",value:t.subjectCode,onChange:function(e){return s((0,a.Z)((0,a.Z)({},t),{},{subjectCode:e.target.value}))},placeholder:"Enter subject code...",className:"form-control w-75 "})}),(0,b.jsx)("td",{children:(0,b.jsx)("input",{type:"number",min:1,max:1e3,value:t.fullMarks,onChange:function(e){return s((0,a.Z)((0,a.Z)({},t),{},{fullMarks:e.target.value}))},placeholder:"Enter full Marks...",className:"form-control w-75 "})}),(0,b.jsx)("td",{children:(0,b.jsx)("input",{className:"form-control w-75 ",type:"number",min:1,max:1e3,value:t.passMarks,onChange:function(e){return s((0,a.Z)((0,a.Z)({},t),{},{passMarks:e.target.value}))},placeholder:"Enter pass Marks..."})}),(0,b.jsx)("td",{}),(0,b.jsx)("td",{}),(0,b.jsx)("td",{children:(0,b.jsxs)("div",{className:"d-flex justify-content-end flex-shrink-0",children:[(0,b.jsx)("button",{type:"submit",className:"btn btn-success btn-active-color-primary btn-sm me-1 px-5",children:"Save"}),(0,b.jsx)("button",{type:"button",onClick:function(){return n(null)},className:"btn btn-danger  btn-active-color-primary btn-sm me-1 px-5",children:"Cancel"})]})})]})},x=s(6181),p=function(e){e.className;var t=e.yearWiseAndSemster,s=e.activeTab,n=e.editCourse,c=(0,x.n)(),d=c.getCourseSubjectLists.data,i=(0,l.useState)({subjectName:"",subjectCode:"",fullMarks:0,passMarks:0}),u=(0,r.Z)(i,2),m=u[0],p=u[1],f=(0,l.useState)(null),N=(0,r.Z)(f,2),g=N[0],k=N[1],y=(0,l.useState)({}),S=(0,r.Z)(y,2),C=S[0],w=S[1],Z=(0,l.useState)(!1),M=(0,r.Z)(Z,2),O=M[0],A=M[1],Y=function(e){c.deleteCourseSubjectMutation.mutate(e)};return(0,b.jsx)(b.Fragment,{children:(0,b.jsxs)("div",{className:"card",children:[(0,b.jsx)("div",{className:"card-header border-0 pt-5",children:(0,b.jsx)("div",{className:"card-toolbar","data-bs-toggle":"tooltip","data-bs-placement":"top","data-bs-trigger":"hover",title:"Click to add a user",children:(0,b.jsxs)("button",{onClick:function(){return A((function(e){return!e}))},type:"button",className:"btn btn-sm btn-light-primary",children:[(0,b.jsx)(o.D9,{iconName:"plus",className:"fs-3"}),"Add Subjects"]})})}),(0,b.jsx)("div",{className:"card-body py-3",children:(0,b.jsx)("div",{className:"table-responsive",children:(0,b.jsx)("form",{onSubmit:O?function(e){var n,r;e.preventDefault(),c.createCourseSubjectMutation.mutate((0,a.Z)((0,a.Z)({},m),{},{course:null===(n=JSON.parse(localStorage.getItem("AddedNewCourse")))||void 0===n?void 0:n._id,courseType:null===(r=JSON.parse(localStorage.getItem("AddedNewCourse")))||void 0===r?void 0:r.courseType,semYear:t.split(" ")[0]+" "+s})),A(!1),p({subjectName:"",subjectCode:"",fullMarks:0,passMarks:0})}:function(e){e.preventDefault();var a={_id:g,subjectName:C.subjectName,subjectCode:C.subjectCode,fullMarks:C.fullMarks,passMarks:C.passMarks,course:null===n||void 0===n?void 0:n._id,courseType:null===n||void 0===n?void 0:n.courseType,semYear:t.split(" ")[0]+" "+s};c.updateCourseCategoryMutation.mutate(a),k(null)},children:(0,b.jsxs)("table",{className:"table table-row-dashed table-row-gray-300 align-middle gs-0 gy-4",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"fw-bold text-muted",children:[(0,b.jsx)("th",{className:"w-25px",children:(0,b.jsx)("div",{className:"form-check form-check-sm form-check-custom form-check-solid"})}),(0,b.jsx)("th",{className:"min-w-150px",children:"SR."}),(0,b.jsx)("th",{className:"min-w-150px",children:"Subject Name"}),(0,b.jsx)("th",{className:"min-w-140px",children:"Subject Code"}),(0,b.jsx)("th",{className:"min-w-120px",children:"Full Marks"}),(0,b.jsx)("th",{className:"min-w-120px",children:"Pass Marks"}),(0,b.jsx)("th",{className:"min-w-120px",children:"Added By"}),(0,b.jsx)("th",{className:"min-w-120px",children:"Date"}),(0,b.jsx)("th",{className:"min-w-100px text-end",children:"Actions"})]})}),(0,b.jsxs)("tbody",{children:[O&&(0,b.jsx)(v,{setAddSubjectFormToggle:A,newSubject:m,setNewSubject:p}),d.filter((function(e){var a,c;parseInt(null===e||void 0===e?void 0:e.semYear.split(" ")[1]);return(null===e||void 0===e?void 0:e.semYear)===t.split(" ")[0]+" "+s&&(Object.keys(n).length>0?null===n||void 0===n?void 0:n.courseName:null===(a=JSON.parse(localStorage.getItem("AddedNewCourse")))||void 0===a?void 0:a.courseName)===(null===(c=e.course)||void 0===c?void 0:c.courseName)})).map((function(e,t){return(0,b.jsx)(l.Fragment,{children:g===(null===e||void 0===e?void 0:e._id)?(0,b.jsx)(h,{editSubject:C,setEditSubject:w,setEditSubjectId:k}):(0,b.jsx)(j,{index:t,subject:e,setEditSubjectId:k,setEditSubject:w,handleDeleteSubject:Y},null===e||void 0===e?void 0:e._id)},null===e||void 0===e?void 0:e._id)}))]})]})})})})]})})},f="http://localhost:8080",N=function(e){var t,s=e.className,o=e.editCourse,u=void 0===o?{}:o,m=(0,l.useState)({}),j=(0,r.Z)(m,2),v=j[0],h=j[1],x=(0,l.useState)(1),N=(0,r.Z)(x,2),g=N[0],k=N[1];return(0,l.useEffect)((function(){var e=function(){var e=(0,c.Z)((0,n.Z)().mark((function e(){var t,s,c,r,l,o,i,m,b,j,x,p,N,g,k,y,S;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==(null===Object||void 0===Object||null===(t=Object.keys(u))||void 0===t?void 0:t.length)){e.next=18;break}return o=null===JSON||void 0===JSON||null===(s=JSON.parse(null===(c=localStorage)||void 0===c?void 0:c.getItem("AddSubjectRelatedData")))||void 0===s?void 0:s.courseType,i=null===JSON||void 0===JSON||null===(r=JSON.parse(null===(l=localStorage)||void 0===l?void 0:l.getItem("AddSubjectRelatedData")))||void 0===r?void 0:r.numberOfYears,e.prev=3,e.next=6,d.Z.get("".concat(f,"/api/courses/courseType/").concat(o));case 6:return j=e.sent,e.next=9,d.Z.get("".concat(f,"/api/courses/numberOfYears/").concat(i));case 9:x=e.sent,h((0,a.Z)((0,a.Z)({},v),{},{courseType:null===j||void 0===j||null===(m=j.data)||void 0===m?void 0:m.courseType,numberOfYears:null===x||void 0===x||null===(b=x.data)||void 0===b?void 0:b.numberOfYears})),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(3),console.log(e.t0);case 16:e.next=33;break;case 18:return p=null===u||void 0===u?void 0:u.courseType,N=null===u||void 0===u?void 0:u.numberOfYears,e.prev=20,e.next=23,d.Z.get("".concat(f,"/api/courses/courseType/").concat(p));case 23:return y=e.sent,e.next=26,d.Z.get("".concat(f,"/api/courses/numberOfYears/").concat(N));case 26:S=e.sent,h((0,a.Z)((0,a.Z)({},v),{},{courseType:null===y||void 0===y||null===(g=y.data)||void 0===g?void 0:g.courseType,numberOfYears:null===S||void 0===S||null===(k=S.data)||void 0===k?void 0:k.numberOfYears})),e.next=33;break;case 30:e.prev=30,e.t1=e.catch(20),console.log(e.t1);case 33:case"end":return e.stop()}}),e,null,[[3,13],[20,30]])})));return function(){return e.apply(this,arguments)}}();e()}),[(null===Object||void 0===Object||null===(t=Object.keys(u))||void 0===t?void 0:t.length)>0,u]),(0,b.jsxs)("div",{className:"card ".concat(s),children:[(0,b.jsxs)("div",{className:"card-header border-0 pt-5",children:[(0,b.jsx)("h3",{className:"card-title align-items-start flex-column",children:(0,b.jsx)("span",{className:"card-label fw-bold fs-3 mb-1",children:"Subject Information"})}),(0,b.jsx)("div",{className:"card-toolbar",children:(0,b.jsx)("ul",{className:"nav p-5",children:v&&(0,b.jsx)(b.Fragment,{children:null===Array||void 0===Array?void 0:Array.from({length:null===v||void 0===v?void 0:v.numberOfYears},(function(e,t){return(0,b.jsx)("li",{style:{borderBottom:g===t+1?"2px solid red":""},children:(0,b.jsx)(i.OL,{className:"nav-link btn btn-sm btn-color-muted btn-active btn-active-light-primary active fw-bold px-4 me-1 ".concat(g===t+1?"active bg-red":""),"data-bs-toggle":"tab",to:"#kt_table_widget_5_tab_".concat(t+1),onClick:function(){k(t+1)},children:"Annual"===(null===v||void 0===v?void 0:v.courseType)?"Year ".concat(t+1):"Semester ".concat(t+1)})},t)}))})})})]}),(0,b.jsx)("div",{className:"card-body py-3",children:(0,b.jsx)("div",{className:"tab-content",children:Array.from({length:null===v||void 0===v?void 0:v.numberOfYears},(function(e,t){return(0,b.jsx)("div",{className:"tab-pane fade ".concat(g===t+1?"show active":""),id:"kt_table_widget_5_tab_".concat(t+1),children:(0,b.jsx)(p,{editCourse:u,activeTab:g,yearWiseAndSemster:"Annual"===(null===v||void 0===v?void 0:v.courseType)?"Year ".concat(t+1):"Semester ".concat(t+1)})},t)}))})})]})}}}]);
//# sourceMappingURL=18.4cad27c7.chunk.js.map